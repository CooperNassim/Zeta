<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZX TRADE · AI智能交易</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Syne:wght@400;700;800&family=Noto+Sans+SC:wght@300;400;700&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }

:root {
  --gold: #c9a84c;
  --gold-light: #f0d080;
  --gold-dim: rgba(201,168,76,0.3);
  --ink: #05080f;
  --ink2: #080d1a;
  --aurora1: #00ffd5;
  --aurora2: #7b2fff;
  --aurora3: #ff6b35;
  --text: rgba(255,255,255,0.85);
  --muted: rgba(255,255,255,0.35);
}

html, body { width:100%; height:100%; overflow:hidden; background:var(--ink); cursor:none; }

/* ─── Custom cursor ─── */
#cur { position:fixed; z-index:9999; pointer-events:none; mix-blend-mode:exclusion; }
#cur-dot { width:8px; height:8px; background:#fff; border-radius:50%; transform:translate(-50%,-50%); }
#cur-ring { position:fixed; z-index:9998; pointer-events:none; width:44px; height:44px;
  border:1px solid rgba(201,168,76,0.6); border-radius:50%; transform:translate(-50%,-50%);
  transition:width .3s,height .3s,border-color .3s; }
body:has(.btn:hover) #cur-ring, body:has(nav a:hover) #cur-ring {
  width:60px; height:60px; border-color:var(--gold); }

/* ─── Canvas layers ─── */
#canvas-aurora { position:fixed; inset:0; z-index:1; }
#canvas-globe  { position:fixed; inset:0; z-index:2; pointer-events:none; }

/* ─── Noise grain overlay ─── */
.grain {
  position:fixed; inset:0; z-index:3; pointer-events:none; opacity:.04;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size:256px;
}

/* ─── Layout ─── */
#app { position:fixed; inset:0; z-index:10; display:flex; flex-direction:column; }

/* ─── Nav ─── */
nav {
  display:flex; align-items:center; justify-content:space-between;
  padding:28px 64px;
  background:linear-gradient(180deg,rgba(5,8,15,.9) 0%,transparent 100%);
}
.logo-wrap { display:flex; align-items:center; gap:16px; }
.logo-mark {
  width:40px; height:40px; border:1px solid var(--gold);
  display:grid; place-items:center;
  font-family:'Bebas Neue',sans-serif; font-size:22px;
  color:var(--gold); letter-spacing:1px;
  position:relative; overflow:hidden;
}
.logo-mark::before {
  content:''; position:absolute; inset:0;
  background:linear-gradient(135deg, transparent 40%, rgba(201,168,76,.2));
}
.logo-text { font-family:'Bebas Neue',sans-serif; font-size:20px; letter-spacing:6px; color:rgba(255,255,255,.7); }

nav ul { list-style:none; display:flex; gap:48px; }
nav a {
  font-family:'DM Mono',monospace; font-size:11px; letter-spacing:3px;
  color:var(--muted); text-decoration:none; text-transform:uppercase;
  transition:color .25s; position:relative; padding-bottom:4px;
}
nav a::after {
  content:''; position:absolute; bottom:0; left:0; width:0; height:1px;
  background:var(--gold); transition:width .3s;
}
nav a:hover { color:var(--gold-light); }
nav a:hover::after { width:100%; }

.nav-right { display:flex; align-items:center; gap:24px; }
.status-dot {
  display:flex; align-items:center; gap:8px;
  font-family:'DM Mono',monospace; font-size:11px; letter-spacing:2px; color:var(--aurora1);
}
.status-dot::before {
  content:''; width:7px; height:7px; background:var(--aurora1); border-radius:50%;
  box-shadow:0 0 12px var(--aurora1); animation:statusPulse 2s infinite;
}

/* ─── Hero ─── */
.hero {
  flex:1; display:flex; align-items:center;
  padding:0 64px; gap:0; position:relative;
}

.hero-content { width:52%; position:relative; z-index:5; }

.eyebrow {
  display:flex; align-items:center; gap:12px; margin-bottom:40px;
  opacity:0; animation:rise .7s .2s forwards;
}
.eyebrow-line { width:40px; height:1px; background:var(--gold); }
.eyebrow-text {
  font-family:'DM Mono',monospace; font-size:11px; letter-spacing:4px;
  color:var(--gold); text-transform:uppercase;
}

.hero-h1 {
  font-family:'Bebas Neue',sans-serif;
  font-size:clamp(72px,8vw,120px);
  line-height:.95;
  margin-bottom:32px;
  opacity:0; animation:rise .8s .4s forwards;
}
.h1-top { display:block; color:#fff; }
.h1-bottom {
  display:block;
  background:linear-gradient(90deg, var(--gold) 0%, var(--gold-light) 50%, var(--aurora1) 100%);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
  background-size:200%; animation:shimmer 4s linear infinite;
}

.hero-sub {
  font-size:14px; color:var(--muted); line-height:1.9; letter-spacing:.5px;
  max-width:420px; margin-bottom:56px;
  font-family:'Noto Sans SC',sans-serif;
  opacity:0; animation:rise .8s .6s forwards;
}

.hero-actions {
  display:flex; align-items:center; gap:20px; margin-bottom:72px;
  opacity:0; animation:rise .8s .8s forwards;
}

.btn {
  position:relative; cursor:none; overflow:hidden;
  font-family:'DM Mono',monospace; font-size:12px; letter-spacing:3px; text-transform:uppercase;
  transition:all .3s;
}
.btn-gold {
  padding:18px 52px;
  background:linear-gradient(135deg, #9a6f1e, var(--gold), #f0d080, var(--gold));
  background-size:200%;
  color:#060a10; font-weight:500;
  border:none;
  clip-path:polygon(0 0,calc(100% - 16px) 0,100% 16px,100% 100%,16px 100%,0 calc(100% - 16px));
  animation:goldShimmer 3s ease infinite;
}
.btn-gold:hover { box-shadow:0 8px 40px rgba(201,168,76,.5); transform:translateY(-2px); }
.btn-outline {
  padding:18px 40px;
  background:transparent;
  color:rgba(255,255,255,.6);
  border:1px solid rgba(255,255,255,.15);
  clip-path:polygon(0 0,calc(100% - 12px) 0,100% 12px,100% 100%,12px 100%,0 calc(100% - 12px));
}
.btn-outline:hover { border-color:var(--gold-dim); color:var(--gold-light); background:rgba(201,168,76,.05); }

/* ─── Metrics strip ─── */
.metrics {
  display:flex; gap:0;
  opacity:0; animation:rise .8s 1s forwards;
}
.metric {
  padding:20px 32px 20px 0; margin-right:32px;
  border-right:1px solid rgba(255,255,255,.08);
  transition:transform .3s;
}
.metric:last-child { border-right:none; }
.metric:hover { transform:translateY(-3px); }
.metric-label {
  font-family:'DM Mono',monospace; font-size:10px; letter-spacing:3px;
  color:var(--muted); text-transform:uppercase; margin-bottom:8px;
}
.metric-val {
  font-family:'Bebas Neue',sans-serif; font-size:34px; letter-spacing:2px;
  background:linear-gradient(135deg, #fff 0%, var(--gold-light) 100%);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.metric-sub { font-family:'DM Mono',monospace; font-size:10px; color:var(--aurora1); letter-spacing:1px; margin-top:4px; }

/* ─── Right: Globe area ─── */
.hero-globe {
  position:absolute; right:-5%; top:50%; transform:translateY(-50%);
  width:52%; height:90vh; pointer-events:none;
}

/* ─── Floating data cards ─── */
.data-cards { position:absolute; inset:0; }

.dcard {
  position:absolute;
  background:rgba(8,13,26,.85);
  border:1px solid rgba(201,168,76,.2);
  backdrop-filter:blur(24px);
  padding:14px 20px;
  min-width:160px;
}
.dcard::before {
  content:''; position:absolute; top:-1px; left:16px;
  width:40px; height:2px; background:var(--gold);
}
.dcard-label { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:3px; color:var(--muted); margin-bottom:6px; }
.dcard-val { font-family:'Bebas Neue',sans-serif; font-size:26px; letter-spacing:2px; color:#fff; }
.dcard-change { font-family:'DM Mono',monospace; font-size:11px; margin-top:4px; }
.up { color:#00e09e; } .dn { color:#ff5555; }

.dcard-1 { top:12%; left:4%; animation:cardFloat1 5s ease-in-out infinite; }
.dcard-2 { top:30%; right:6%; animation:cardFloat2 6s ease-in-out infinite; }
.dcard-3 { bottom:28%; left:8%; animation:cardFloat3 4.5s ease-in-out infinite; }
.dcard-4 { bottom:14%; right:10%; animation:cardFloat1 5.5s .5s ease-in-out infinite; }

/* ─── Live feed strip ─── */
.feed-bar {
  display:flex; align-items:center; gap:0;
  background:rgba(5,8,15,.95);
  border-top:1px solid rgba(201,168,76,.15);
  padding:14px 64px;
  overflow:hidden;
}
.feed-label {
  font-family:'DM Mono',monospace; font-size:10px; letter-spacing:3px;
  color:var(--gold); text-transform:uppercase; white-space:nowrap; margin-right:32px;
  flex-shrink:0;
}
.feed-separator { width:1px; height:20px; background:rgba(201,168,76,.3); margin-right:32px; flex-shrink:0; }
.feed-track-wrap { flex:1; overflow:hidden; position:relative; }
.feed-track-wrap::before, .feed-track-wrap::after {
  content:''; position:absolute; top:0; bottom:0; width:60px; z-index:2;
}
.feed-track-wrap::before { left:0; background:linear-gradient(90deg,rgba(5,8,15,.95),transparent); }
.feed-track-wrap::after  { right:0; background:linear-gradient(-90deg,rgba(5,8,15,.95),transparent); }
.feed-track { display:flex; gap:40px; white-space:nowrap; animation:feedScroll 30s linear infinite; }
.feed-item { display:flex; align-items:center; gap:10px; }
.feed-sym { font-family:'DM Mono',monospace; font-size:11px; letter-spacing:2px; color:rgba(255,255,255,.45); }
.feed-price { font-family:'DM Mono',monospace; font-size:12px; font-weight:500; color:#fff; }
.feed-chg { font-family:'DM Mono',monospace; font-size:11px; }

/* ─── AI Signal widget ─── */
.signal-widget {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:200px; height:200px; pointer-events:none;
  opacity:0; animation:rise 1s 1.4s forwards;
}
.signal-ring {
  position:absolute; inset:0; border-radius:50%;
  border:1px solid rgba(0,255,213,.2);
  animation:ringExpand 3s ease-out infinite;
}
.signal-ring:nth-child(2) { animation-delay:.8s; }
.signal-ring:nth-child(3) { animation-delay:1.6s; }
.signal-core {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:64px; height:64px; border-radius:50%;
  background:radial-gradient(circle, rgba(0,255,213,.5), rgba(123,47,255,.3), transparent);
  border:1px solid rgba(0,255,213,.5);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  box-shadow:0 0 40px rgba(0,255,213,.3), inset 0 0 20px rgba(0,255,213,.1);
}
.signal-icon { font-size:18px; margin-bottom:2px; }
.signal-text { font-family:'DM Mono',monospace; font-size:7px; letter-spacing:1px; color:var(--aurora1); }

/* ─── Animations ─── */
@keyframes rise {
  from { opacity:0; transform:translateY(24px); }
  to   { opacity:1; transform:translateY(0); }
}
@keyframes shimmer {
  from { background-position:0% center; }
  to   { background-position:200% center; }
}
@keyframes goldShimmer {
  0%,100% { background-position:0% center; }
  50%     { background-position:100% center; }
}
@keyframes statusPulse {
  0%,100% { opacity:1; box-shadow:0 0 12px var(--aurora1); }
  50%     { opacity:.5; box-shadow:0 0 4px var(--aurora1); }
}
@keyframes cardFloat1 {
  0%,100% { transform:translateY(0) rotate(-.5deg); }
  50%     { transform:translateY(-14px) rotate(.5deg); }
}
@keyframes cardFloat2 {
  0%,100% { transform:translateY(0) rotate(.8deg); }
  50%     { transform:translateY(-18px) rotate(-.8deg); }
}
@keyframes cardFloat3 {
  0%,100% { transform:translateY(0); }
  50%     { transform:translateY(-10px); }
}
@keyframes feedScroll {
  from { transform:translateX(0); }
  to   { transform:translateX(-50%); }
}
@keyframes ringExpand {
  0%   { transform:scale(.3); opacity:.8; }
  100% { transform:scale(1.8); opacity:0; }
}
</style>
</head>
<body>

<div id="cur"><div id="cur-dot"></div></div>
<div id="cur-ring"></div>
<div class="grain"></div>

<canvas id="canvas-aurora"></canvas>
<canvas id="canvas-globe"></canvas>

<div id="app">
  <nav>
    <div class="logo-wrap">
      <div class="logo-mark">ZX</div>
      <div class="logo-text">Trade</div>
    </div>
    <ul>
      <li><a href="#">首页</a></li>
      <li><a href="#">交易</a></li>
      <li><a href="#">策略</a></li>
      <li><a href="#">风险</a></li>
      <li><a href="#">报告</a></li>
    </ul>
    <div class="nav-right">
      <div class="status-dot">系统在线</div>
      <button class="btn btn-gold" style="padding:12px 28px;font-size:11px;">连接账户</button>
    </div>
  </nav>

  <div class="hero">
    <div class="hero-content">
      <div class="eyebrow">
        <div class="eyebrow-line"></div>
        <div class="eyebrow-text">AI 驱动的智能交易系统</div>
      </div>
      <h1 class="hero-h1">
        <span class="h1-top">Where Trading</span>
        <span class="h1-bottom">Meets Intelligence</span>
      </h1>
      <p class="hero-sub">通过心理测试、交易策略和风险模型的智能评估，<br>帮助您做出更理性的交易决策。实时数据驱动，毫秒级响应。</p>
      <div class="hero-actions">
        <button class="btn btn-gold">立即开始交易 →</button>
        <button class="btn btn-outline">了解更多</button>
      </div>
      <div class="metrics">
        <div class="metric">
          <div class="metric-label">总盈利</div>
          <div class="metric-val" id="mProfit">¥0</div>
          <div class="metric-sub">今日 +0.00%</div>
        </div>
        <div class="metric">
          <div class="metric-label">交易次数</div>
          <div class="metric-val" id="mTrades">0</div>
          <div class="metric-sub">累计成交</div>
        </div>
        <div class="metric">
          <div class="metric-label">胜率</div>
          <div class="metric-val" id="mWin">0%</div>
          <div class="metric-sub">近30日均值</div>
        </div>
      </div>
    </div>

    <!-- Globe zone -->
    <div class="hero-globe">
      <div class="data-cards">
        <div class="dcard dcard-1">
          <div class="dcard-label">BTC / USDT</div>
          <div class="dcard-val">43,256</div>
          <div class="dcard-change up">▲ +2.34%</div>
        </div>
        <div class="dcard dcard-2">
          <div class="dcard-label">ETH / USDT</div>
          <div class="dcard-val">2,856</div>
          <div class="dcard-change up">▲ +1.87%</div>
        </div>
        <div class="dcard dcard-3">
          <div class="dcard-label">NVDA</div>
          <div class="dcard-val">648.30</div>
          <div class="dcard-change up">▲ +5.67%</div>
        </div>
        <div class="dcard dcard-4">
          <div class="dcard-label">AI 信号强度</div>
          <div class="dcard-val">87.4</div>
          <div class="dcard-change up">● 强烈看多</div>
        </div>
      </div>

      <!-- AI signal rings -->
      <div class="signal-widget" style="left:45%;top:42%">
        <div class="signal-ring"></div>
        <div class="signal-ring"></div>
        <div class="signal-ring"></div>
        <div class="signal-core">
          <div class="signal-icon">⚡</div>
          <div class="signal-text">AI ON</div>
        </div>
      </div>
    </div>
  </div>

  <div class="feed-bar">
    <div class="feed-label">实时行情</div>
    <div class="feed-separator"></div>
    <div class="feed-track-wrap">
      <div class="feed-track" id="feedTrack"></div>
    </div>
  </div>
</div>

<script>
/* ── Cursor ── */
const dot = document.getElementById('cur');
const ring = document.getElementById('cur-ring');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove', e => { mx=e.clientX; my=e.clientY; });
(function moveCur(){
  dot.style.cssText = `left:${mx}px;top:${my}px;position:fixed;z-index:9999;pointer-events:none;`;
  rx += (mx-rx)*.1; ry += (my-ry)*.1;
  ring.style.left = rx+'px'; ring.style.top = ry+'px';
  requestAnimationFrame(moveCur);
})();

/* ── Aurora background ── */
const ac = document.getElementById('canvas-aurora');
const ax = ac.getContext('2d');
ac.width = innerWidth; ac.height = innerHeight;
window.addEventListener('resize', () => { ac.width=innerWidth; ac.height=innerHeight; gc.width=innerWidth; gc.height=innerHeight; });

let aTime = 0;
function drawAurora() {
  ax.clearRect(0,0,ac.width,ac.height);
  // base dark
  ax.fillStyle = '#05080f';
  ax.fillRect(0,0,ac.width,ac.height);

  const t = aTime * .0004;

  // Aurora bands
  const bands = [
    { cx: ac.width*.7 + Math.sin(t*.7)*120, cy: ac.height*.25 + Math.cos(t*.5)*60, r:500, c1:'rgba(0,120,100,.18)', c2:'transparent' },
    { cx: ac.width*.8 + Math.cos(t*.6)*80,  cy: ac.height*.5  + Math.sin(t*.4)*80, r:420, c1:'rgba(60,0,180,.14)', c2:'transparent' },
    { cx: ac.width*.5 + Math.sin(t*.5)*100, cy: ac.height*.7  + Math.cos(t*.3)*50, r:380, c1:'rgba(0,200,180,.1)', c2:'transparent' },
    { cx: ac.width*.6 + Math.cos(t*.8)*60,  cy: ac.height*.3  + Math.sin(t*.6)*70, r:350, c1:'rgba(201,168,76,.07)', c2:'transparent' },
  ];
  for (const b of bands) {
    const g = ax.createRadialGradient(b.cx,b.cy,0,b.cx,b.cy,b.r);
    g.addColorStop(0,b.c1); g.addColorStop(1,b.c2);
    ax.fillStyle = g;
    ax.beginPath(); ax.ellipse(b.cx,b.cy,b.r,b.r*.45,t*.2,0,Math.PI*2);
    ax.fill();
  }

  // Vignette
  const vg = ax.createRadialGradient(ac.width/2,ac.height/2,ac.height*.2,ac.width/2,ac.height/2,ac.height*.9);
  vg.addColorStop(0,'transparent');
  vg.addColorStop(1,'rgba(3,5,12,.85)');
  ax.fillStyle=vg; ax.fillRect(0,0,ac.width,ac.height);

  aTime++;
  requestAnimationFrame(drawAurora);
}
drawAurora();

/* ── Globe ── */
const gc = document.getElementById('canvas-globe');
const gx = gc.getContext('2d');
gc.width = innerWidth; gc.height = innerHeight;

// Globe center
const GCX = () => innerWidth * .72;
const GCY = () => innerHeight * .48;
const GR  = () => Math.min(innerWidth, innerHeight) * .28;

// Generate globe points (lat/lon dots)
const points = [];
for (let lat=-90; lat<=90; lat+=8) {
  for (let lon=0; lon<360; lon+=8) {
    const latR = lat*Math.PI/180;
    const lonR = lon*Math.PI/180;
    points.push({
      lat: latR, lon: lonR,
      x3: Math.cos(latR)*Math.sin(lonR),
      y3: Math.sin(latR),
      z3: Math.cos(latR)*Math.cos(lonR),
    });
  }
}

// Connection arcs (simulated trades)
const arcs = [];
for (let i=0;i<20;i++) {
  arcs.push({
    lat1:(Math.random()*180-90)*Math.PI/180,
    lon1: Math.random()*Math.PI*2,
    lat2:(Math.random()*180-90)*Math.PI/180,
    lon2: Math.random()*Math.PI*2,
    progress:Math.random(),
    speed: .002+Math.random()*.004,
    color: ['rgba(0,255,213,','rgba(201,168,76,','rgba(123,47,255,'][Math.floor(Math.random()*3)],
    tail: .3+Math.random()*.3,
  });
}

let gAngle = 0;
function project(lat, lon) {
  const cosLat=Math.cos(lat), sinLat=Math.sin(lat);
  const cosLon=Math.cos(lon+gAngle), sinLon=Math.sin(lon+gAngle);
  const x = cosLat*sinLon;
  const y = sinLat;
  const z = cosLat*cosLon;
  const r = GR(), cx=GCX(), cy=GCY();
  return { x: cx + x*r, y: cy - y*r, z, visible: z>-.1 };
}

function pointOnGlobe(lat, lon) {
  const cosLat=Math.cos(lat), sinLat=Math.sin(lat);
  const cosLon=Math.cos(lon+gAngle), sinLon=Math.sin(lon+gAngle);
  return {
    x: cosLat*sinLon,
    y: sinLat,
    z: cosLat*cosLon,
  };
}

function drawGlobe() {
  gx.clearRect(0,0,gc.width,gc.height);

  const cx=GCX(), cy=GCY(), r=GR();

  // Globe glow base
  const g1 = gx.createRadialGradient(cx,cy,0,cx,cy,r*1.2);
  g1.addColorStop(0,'rgba(0,180,160,.08)');
  g1.addColorStop(.7,'rgba(60,0,160,.05)');
  g1.addColorStop(1,'transparent');
  gx.fillStyle=g1; gx.beginPath(); gx.arc(cx,cy,r*1.2,0,Math.PI*2); gx.fill();

  // Outer ring glow
  const g2 = gx.createRadialGradient(cx,cy,r*.85,cx,cy,r*1.05);
  g2.addColorStop(0,'transparent');
  g2.addColorStop(.5,'rgba(0,255,213,.06)');
  g2.addColorStop(1,'transparent');
  gx.fillStyle=g2; gx.beginPath(); gx.arc(cx,cy,r*1.05,0,Math.PI*2); gx.fill();

  // Globe outline
  gx.beginPath(); gx.arc(cx,cy,r,0,Math.PI*2);
  gx.strokeStyle='rgba(201,168,76,.12)'; gx.lineWidth=1; gx.stroke();

  // Latitude lines
  for (let lat=-75; lat<=75; lat+=15) {
    const latR = lat*Math.PI/180;
    gx.beginPath();
    let first=true;
    for (let lon=0; lon<=360; lon+=3) {
      const p = project(latR, lon*Math.PI/180);
      if (!p.visible) { first=true; continue; }
      if (first) { gx.moveTo(p.x,p.y); first=false; }
      else gx.lineTo(p.x,p.y);
    }
    gx.strokeStyle='rgba(255,255,255,.04)'; gx.lineWidth=.5; gx.stroke();
  }
  // Longitude lines
  for (let lon=0; lon<360; lon+=20) {
    const lonR = lon*Math.PI/180;
    gx.beginPath();
    let first=true;
    for (let lat=-90; lat<=90; lat+=3) {
      const p = project(lat*Math.PI/180, lonR);
      if (!p.visible) { first=true; continue; }
      if (first) { gx.moveTo(p.x,p.y); first=false; }
      else gx.lineTo(p.x,p.y);
    }
    gx.strokeStyle='rgba(255,255,255,.04)'; gx.lineWidth=.5; gx.stroke();
  }

  // Dots
  for (const pt of points) {
    const p = project(pt.lat, pt.lon);
    if (!p.visible) continue;
    const alpha = Math.max(0, p.z) * .7 + .05;
    gx.beginPath(); gx.arc(p.x, p.y, .8, 0, Math.PI*2);
    gx.fillStyle = `rgba(180,220,255,${alpha})`; gx.fill();
  }

  // Arcs (trade routes)
  for (const arc of arcs) {
    arc.progress += arc.speed;
    if (arc.progress > 1) arc.progress = 0;

    const pts = [];
    const steps = 60;
    const tailStart = Math.max(0, arc.progress - arc.tail);
    for (let s=0; s<=steps; s++) {
      const t = tailStart + (arc.progress - tailStart) * s/steps;
      const lat = arc.lat1 + (arc.lat2-arc.lat1)*t;
      const lon = arc.lon1 + (arc.lon2-arc.lon1)*t;
      const p = project(lat, lon);
      if (p.visible) pts.push({ ...p, t: s/steps });
    }
    if (pts.length < 2) continue;
    gx.beginPath();
    gx.moveTo(pts[0].x, pts[0].y);
    for (let i=1; i<pts.length; i++) gx.lineTo(pts[i].x, pts[i].y);
    gx.strokeStyle = arc.color + '.7)';
    gx.lineWidth = 1;
    gx.shadowBlur = 8;
    gx.shadowColor = arc.color + '.8)';
    gx.stroke();
    gx.shadowBlur = 0;

    // Arc head dot
    const head = pts[pts.length-1];
    if (head) {
      gx.beginPath(); gx.arc(head.x,head.y,3,0,Math.PI*2);
      gx.fillStyle = arc.color+'1)';
      gx.shadowBlur=12; gx.shadowColor=arc.color+'1)';
      gx.fill(); gx.shadowBlur=0;
    }
  }

  // Highlight hotspots
  const hotspots = [
    {lat:40*Math.PI/180, lon:116*Math.PI/180, label:'北京'},
    {lat:37*Math.PI/180, lon:-122*Math.PI/180, label:'纽约'},
    {lat:51*Math.PI/180, lon:0, label:'伦敦'},
    {lat:35*Math.PI/180, lon:139*Math.PI/180, label:'东京'},
    {lat:1*Math.PI/180, lon:103*Math.PI/180, label:'新加坡'},
  ];
  for (const hs of hotspots) {
    const p = project(hs.lat, hs.lon);
    if (!p.visible) continue;
    gx.beginPath(); gx.arc(p.x,p.y,4,0,Math.PI*2);
    gx.fillStyle='rgba(201,168,76,.9)';
    gx.shadowBlur=16; gx.shadowColor='rgba(201,168,76,.8)'; gx.fill(); gx.shadowBlur=0;
    gx.beginPath(); gx.arc(p.x,p.y,8,0,Math.PI*2);
    gx.strokeStyle='rgba(201,168,76,.3)'; gx.lineWidth=1; gx.stroke();
    gx.fillStyle='rgba(255,255,255,.55)'; gx.font='9px DM Mono, monospace';
    gx.fillText(hs.label, p.x+12, p.y+4);
  }

  gAngle += .002;
  requestAnimationFrame(drawGlobe);
}
drawGlobe();

/* ── Feed ── */
const feedData = [
  ['BTC/USDT','43,256.80','+2.34',true],['ETH/USDT','2,856.40','+1.87',true],
  ['AAPL','185.20','-0.45',false],['TSLA','242.80','+3.21',true],
  ['NVDA','648.30','+5.67',true],['SPY','487.90','-0.12',false],
  ['SOL/USDT','98.70','+4.56',true],['MSFT','412.60','+1.23',true],
  ['BNB/USDT','312.50','+0.98',true],['AMZN','178.40','-0.88',false],
  ['GOLD','2,024.50','+0.31',true],['USD/JPY','148.20','-0.15',false],
];
const ft = document.getElementById('feedTrack');
const mkFeed = d => d.map(([s,p,c,u])=>
  `<div class="feed-item"><span class="feed-sym">${s}</span><span class="feed-price">${p}</span>
   <span class="feed-chg ${u?'up':'dn'}">${u?'▲':'▼'} ${Math.abs(c)}%</span></div>`).join('');
ft.innerHTML = mkFeed(feedData)+mkFeed(feedData);
</script>
</body>
</html>
